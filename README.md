6.7 갱신 ==========================


현재 html 문제 해결중 (반응형 대비로 변형 )

오후 10시 이전까지 마무리 예상...



6.6 갱신 ===========================
여론분석 라우터 추가 완료 (아직 초안)

html 깨지는 문제 해결한 후 

댓글 & 여론분석 plotly 그래프 부분 등 총 마무리할 예정 : 6.7 ~오후 3시 이전까지, 늦어지면 7시 이전까지

(+사용자 입력 부분 : 법안명으로 검색 / 뉴스기사 추가 검색 및 실시간 분석 기능 구현 예정...)

(+기사-법안명 연관성에 대해 유사도 기준 조정 후 db 갱신하거나 로직 변경하여 최종 보완해야 함)



6.4 갱신 ===========================


![image](https://github.com/user-attachments/assets/f4f4ef1b-8835-4e8b-9810-64d28e1f747a)

bills table   >> 년 단위 법안명 가져옴 ( 년 단위 관리 위해 분리 )

id year title propose_date 



![image](https://github.com/user-attachments/assets/fdcc0ecb-a38b-48ac-bfc9-421b48d35c6d)

bill_news table (body 수집 전, 해당부분 수집은 수집속도에따라 개수 결정후 기본표시)

id bill_id  news_title  news_url  comment_count  similarity body


6.3 갱신  ===============================

뉴스기사 가져오는 코드 완료 

(주의* 6.4 기준  DB  경로 절대경로이므로 수정해야 제대로 실행됨)

여론분석은 시간 문제 관계로 모든 법안명 => 100개 이하 (최신) 정도로 줄일 예정

* 6.4 링크 받아서 여론분석 그래프 리턴하는 모듈 추가 및 html 연결 계획 (그래프는 이전과 동일하게 dash 로 삽입)


6.2 갱신  ===============================

법안 여론분석 기능 실제 구현내용 구체화




** 필터링 조건


A 기본적으로 표시되는 리스트   B database   C 사용자 요청 로직

A : 1년 이내 법안명에 대한 뉴스기사(1년 이내) 중 댓글이 5개 이상인 뉴스기사 존재 시 =>  댓글이 가장 많은 뉴스 1개에 대해 분석결과 & 다른 뉴스링크 list 제공

B : 20 ~ 22 대수 법안명에 대해 A에 필요한 결과 저장한 database 파일 구성

C : 사용자가 법안명 이름 검색 가능하도록 함. 만약 검색한 법안명 분석자료가 부족할 경우, 기사만 가져오도록 함 (1년이내 댓글 5개 이상 뉴스 없을 경우)

   (+) A에 댓글 최다 뉴스기사 여론분석 결과 + 다른 뉴스 list 에서, 뉴스링크 list 에 각각 분석하기 버튼을 추가한 다음 요청시 분석하도록 함
 




@ 해결할 문제

=> 댓글에 대한 감정 분석에 LLM 을 도입할 수 있는가?

기술/시간적 문제로 불가능하다면 어떻게 보완할 수 있는가?



5.28 갱신  ===============================

법안 개수 통계 그래프 & 위원회 비율 그래프 DB 연동 초기 단계 마무리 (배포시 추가설정 필요)

2개 모두 동적 그래프 (커서를 올리면 개수 표시됨, UI는 피그마와 상이함)

plotly graphic library & FastAPI & sqlalchemy

dash_app 에서 생성된 그래프를 app 형식으로 html 삽입 (iframe) 


* 문제 해결 memo

위원회 비율 그래프 대수 갱신 문제 => 쿼리 전달 오류, 5.28 해결
데이터 무결성 검수 : 3051건 (20) 행정안전 3610건 (21) 1439건 (22)
                    >> 8100건 (20~22대수 총) 합계 확인 완료

월별 법안 발의개수 2020년 데이터 공백 처리 문제 => AGE 범위 오류, 5.28 해결
